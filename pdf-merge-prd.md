# PDF Merge Web App – Product Requirements Document (PRD)

*(“커서”가 바로 개발에 착수할 수 있도록 최대한 친절‧실무형으로 작성)*  

---

## 1. 한눈에 보기
| 항목 | 내용 |
|------|--------------------------------------------------------------|
| **프로젝트 명** | **PDF Merge Web App** |
| **목표** | 사용자가 여러 PDF를 순서대로 업로드 → “병합” 버튼 클릭 → 최종 PDF 다운로드 |
| **1차 출시 범위 (MVP)** | • 20 MB 이하 PDF 10 개까지 병합<br>• 브라우저(클라이언트) 병합 방식<br>• Drag & Drop 정렬<br>• 실시간 진행률 표시 |
| **핵심 지표** | - 첫 방문~다운로드 완료 비율 90 %↑<br>- 평균 병합 소요 ≤ 5 초(10 MB 기준) |
| **Tech Stack** | **Next.js 14 / App Router / TypeScript / Tailwind CSS / pdf‑lib**<br>호스팅: Vercel (Static Export) |
| **개발 기간** | 1주 (디자인 1d, 개발 3d, QA 1d, 버퍼 1d) |

---

## 2. 배경 & 기회
> “설치 없이 웹에서 바로 PDF를 합치고 싶은데, 개인정보 때문에 서버에 올리기 싫다.”  
> **비전**: **완전 클라이언트‑사이드** 솔루션 → 서버 비용 0, 개인정보 유출 0.

---

## 3. 사용자 페르소나 & 핵심 유스케이스
| 페르소나 | 니즈 | 성공 기준 |
|-----------|------|-----------|
| **Office Worker J** (30대) | 보고서 초안 여러 PDF를 하나로 묶어 팀장에게 제출 | 3분 안에 병합 완료, 레이아웃 깨짐 X |
| **Student S** (20대) | 강의자료 PDF를 주차별로 합치기 | 모바일에서도 문제없이 다운로드 |

---

## 4. 기능 명세

### 4.1 필수 기능 (MVP)
| # | 기능 | 설명 | 우선순위 |
|---|------|------|---------|
| F‑1 | **Drag & Drop 업로드** | 다중 PDF 선택 또는 DnD 지원, 최대 10개 | ★★★ |
| F‑2 | **파일 순서 변경** | 썸네일 리스트 drag‑handle로 순서 조정 | ★★★ |
| F‑3 | **병합 실행** | `pdf-lib`로 브라우저 메모리에서 병합 | ★★★ |
| F‑4 | **진행률/로딩 상태** | 파일별 0–100 % progress bar | ★★☆ |
| F‑5 | **결과 다운로드** | Blob → `<a download>` 트리거, 파일명 `merged.pdf` | ★★★ |
| F‑6 | **오류 처리** | ① 비 PDF 업로드 차단 ② 20 MB 초과 경고 | ★★☆ |

### 4.2 개선 기능 (후순위)
- 모바일 Safari 브라우저 호환 최적화
- 다국어(i18n) – 영·한
- 100 MB+ 대용량 대응: Node API Route + 컨테이너(Fly.io 등)

---

## 5. 비‑기능 요구사항
| 카테고리 | 요구사항 |
|-----------|----------|
| **성능** | 10 MB × 10 개 PDF 병합 시 5 초 이내 |
| **보안** | 모든 병합 로직 브라우저 실행 → 서버 전송 없음 |
| **접근성** | 키보드 순서 변경 지원, ARIA label 포함 |
| **브랜딩** | 심플·직관 UI (Tailwind “neutral” 계열) |
| **호스팅** | Vercel Static Export (Next.js `output: 'export'`) |

---

## 6. 화면 설계 (Low‑Fi Sketch)

1️⃣ **Home /merge**

```
+────────────────────────────+
| [로고]   PDF Merge         |
| ────────────────────────── |
| [ Drop PDFs here ]         |
| (또는) 📂 파일 선택 버튼   |
|                            |
| [썸네일 리스트]            |
| ① report1.pdf  [↕]  ✕     |
| ② report2.pdf  [↕]  ✕     |
|                            |
|          [ 병합하기 ]      |
+────────────────────────────+
```

2️⃣ **병합 중 모달**  
> “3 / 5 페이지 처리 중… 65 %”

3️⃣ **완료 토스트**  
> “🎉 merged.pdf 준비 완료!” + “다운로드” 버튼

*(디테일 와이어프레임은 Figma 링크 예정)*

---

## 7. 기술 아키텍처

```mermaid
graph TD
A[Next.js 14 App (Static)] --> B[Client PDF Merge (pdf‑lib)]
B --> C[Blob URL]
C --> D[Browser Download]
```
- **No backend** → GitHub Pages/Vercel static 가능.  
- `pdf-lib` tree‑shaken size ≈ 100 KB(gz).

---

## 8. 개발 일정 (1 Week Sprint)

| Day | 작업 | 담당 |
|-----|------|------|
| D1 | - Figma Low‑Fi 확정<br>- Repo 초기화(`pnpm`, `Tailwind`) | PM + Dev |
| D2 | 업로드 & 썸네일 컴포넌트 | Dev |
| D3 | Drag 정렬 + `pdf-lib` 병합 로직 | Dev |
| D4 | 오류/모바일 테스트 + Lighthouse | Dev |
| D5 | QA 버그 수정, 배포(Vercel) | Dev |
| D6 | 버퍼(예비일) | - |
| D7 | 정식 릴리스 & 리드미 작성 | Dev |

---

## 9. 성공 메트릭 & 롤‑아웃

| 단계 | 지표 | 목표 |
|------|------|------|
| Beta | ❒ 병합 성공률 | 95 %↑ |
| Prod | ❒ 첫 방문 → 다운로드 | 90 %↑ |
| Maint | ❒ 오류 신고 ≤ 0.5 % | 월간 |

---

## 10. 리스크 & 대응

| 리스크 | 설명 | 대응 |
|--------|------|------|
| 대용량 요구 증가 | 100 MB+ 병합 요청 시 타임아웃 | V2: API Route + Fly.io 컨테이너 준비 |
| 모바일 Blob 다운로드 오류 | iOS 12↓ 파일 미리보기만 표시 | iOS 14↑ 공식 지원 명시, fallback 경고 |
| 라이브러리 라이선스 | `pdf-lib` MIT → OK | 라이선스 문구 footer 표기 |

---

## 11. 오픈 이슈 (To‑Do)

- [ ] 브랜드 로고/컬러 확정
- [ ] favicon/icônes 제작
- [ ] SEO 메타태그(og:image 등)
- [ ] Privacy Policy 초안 작성

---

### 🎯 다음 액션

> **커서야,**  
> 1. 위 일정대로 브랜치 `feature/mvp` 생성 후 세팅 시작해 줘.  
> 2. D2 끝나면 Netlify Deploy Preview 링크 공유!  
> 3. 질문 생기면 PR 코멘트 달거나 DM.

---

*(PRD 끝 – 추가 요청 사항이 있으면 언제든 말씀해 주세요!)*